<!DOCTYPE html>
{% extends "base.html" %}
{% load static %}

{% block title %}タイピングゲーム{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'typinggame/css/style.css' %}">
{% endblock %}

{% block content %}
<div class="container my-5">
    <div id="panel" class="inner">
        <div id="header">
            <div class="stats-container">
                <span>問題: <span id="question-number">1</span>/<span id="total-questions">10</span></span>
                <span>残り時間: <span id="time">60.0</span></span>
                <span>WPM: <span id="wpm">0</span></span>
                <span>正解率: <span id="accuracy">0.00</span>%</span>
            </div>
        </div>

        <div id="text-container">
            <div id="text-display" class="fs-2">
                {{ question.japanese }}
            </div>
            <div id="romaji-display" class="fs-4 text-muted">
                {{ question.romaji }}
            </div>
        </div>

        <div id="overlay">
            <div class="fs-4">スペースキーで開始</div>
            <div class="mt-2 text-muted">（日本語入力モードはオフにしてください）</div>
        </div>
        <div id="message"></div>
    </div>
</div>

<script>
    // Djangoからテンプレートに渡されたデータをJavaScript変数に設定
    const questions = JSON.parse('{{ questions_json|safe }}');
    const initialQuestion = JSON.parse('{{ initial_question_json|safe }}');
</script>
<script src="{% static 'typinggame/js/game.js' %}"></script>
{% endblock %}
