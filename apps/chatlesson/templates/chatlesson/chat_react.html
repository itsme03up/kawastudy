{% extends 'base.html' %}
{% load static %}

{% block title %}川田先生とのチャット - Kawada Study{% endblock %}

{% block extra_css %}
<style>
    html, body {
        font-family: "Noto Sans JP", "Helvetica Neue", Arial, sans-serif;
        height: 100vh;
        margin: 0;
        padding: 0;
        background-color: #f8f9fa;
    }

    .chat-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
    }

    #chat-root {
        flex: 1;
        overflow: hidden;
    }

    /* React用のスタイル */
    .typing-indicator span {
        height: 5px;
        width: 5px;
        float: left;
        margin: 0 1px;
        background-color: #9E9EA1;
        display: block;
        border-radius: 50%;
        opacity: 0.4;
        animation: typing 1.4s infinite ease-in-out both;
    }

    .typing-indicator span:nth-child(1) {
        animation-delay: -0.32s;
    }

    .typing-indicator span:nth-child(2) {
        animation-delay: -0.16s;
    }

    @keyframes typing {
        0%,
        80%,
        100% {
            transform: scale(0);
        }
        40% {
            transform: scale(1);
        }
    }
</style>
{% endblock %}

{% block content %}
<input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
<div class="chat-container">
    <div id="chat-root">
        <!-- Reactコンポーネントがここにマウントされます -->
        <div class="d-flex justify-content-center align-items-center h-100">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">読み込み中...</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/react/chatlesson.bundle.js' %}"></script>
{% endblock %}
